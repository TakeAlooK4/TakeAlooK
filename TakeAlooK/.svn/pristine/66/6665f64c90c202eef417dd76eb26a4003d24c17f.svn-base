<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet">
</head>
<body>
	여긴 커뮤니티
	<form action="/community/cw">
	<table class="table">
		<tr>	
			<th>글번호</th><th>닉네임</th><th>제목</th><th>작성일</th><th>조회수</th><th>추천수</th>
		</tr>
		<tr th:each="comm : ${comm}">
			<td th:text="${comm.commNo}"></td>
			<td th:text="${comm.nickname.nickname}"></td>
			<td> <a th:href="@{'/community/cv/' + ${comm.commNo}}" th:text="${comm.commTitle}"></a></td>
			<td th:if="${#dates.format(comm.commDate, 'yyyy-MM-dd')} == ${today}" th:text="${#dates.format(comm.commDate, 'HH:mm')}"></td>
			<td th:unless="${#dates.format(comm.commDate, 'yyyy-MM-dd')} == ${today}" th:text="${#dates.format(comm.commDate, 'yyyy-MM-dd')}"></td>
			<td th:text="${comm.commHit}"></td>
			<td th:text="${comm.commLike}"></td>
		</tr>
	</table>
	<button>글쓰기</button>
	</form>
	<nav style="text-align: center;">
		<ul class="pagination"
        th:with="start=${T(Math).floor(comm.number/10)*10 + 1},
                    last=(${start + 9 < comm.totalPages ? start + 9 : comm.totalPages})">
			<li>
				<a th:href="@{/community/cl(page=1)}" aria-label="First">
					<span aria-hidden="true">First</span>
				</a>
			</li>
			<li th:class="${comm.first} ? 'disabled'">
				<a th:href="${comm.first} ? '#' :@{/community/cl(page=${comm.number})}" aria-label="Previous">
					<span aria-hidden="true">&lt;</span>
				</a>
			</li>
			<li th:each="page:${#numbers.sequence(start, last)}" th:class="${page == comm.number+1} ? 'active'">
				<a th:text="${page}" th:href="@{/community/cl(page=${page})}"></a>
			</li>
			<li th:class="${comm.last} ? 'disabled'">
				<a th:href="${comm.last} ? '#' : @{/community/cl(page=${comm.number + 2})}"aria-label="Next"> 
					<span aria-hidden="true">&gt;</span>
				</a>
			</li>
			<li>
				<a th:href="@{/community/cl(page=${comm.totalPages})}"aria-label="Last"> 
					<span aria-hidden="true">Last</span>
				</a>
			</li>
		</ul>
	</nav>
<script type="text/javascript">
/*<![CDATA[*/
var page = "[[${comm.number + 1}]]";
/*]]>*/
console.log(page)
alert(page)
</script>
</body>
</html>

<!-- @{/community/cv(commNo=${comm.commNo})} -->